# Браузер медиафайлов

## Основные классы

### Browser (`browser.tsx`)

Главный класс, управляющий всем интерфейсом браузера. Реализует таб-интерфейс с переключением между разными типами контента.

**Связи с другими частями системы:**

- Получает данные о файлах через API (метаданные, превью, списки)
- Принимает колбэки для добавления медиафайлов на таймлайн

**Поддерживаемые типы файлов:**

- Видео: `.mp4`, `.mov`, `.avi`, `.webm`
- Аудио: `.mp3`, `.wav`, `.ogg`, `.m4a`
- Изображения: `.jpg`, `.png`, `.webp`, `.gif`
- Субтитры: `.srt`, `.vtt`
- Эффекты: `.json` (пресеты)
- Переходы: `.json` (пресеты)
- Фильтры: `.json` (пресеты)
- Стикеры: `.png`, `.svg`

**Реализация:**

- Состояние хранится в XState машине (`browser-machine.ts`):
  - `activeTab`: текущая активная вкладка
- Использует `Tabs` из Shadcn UI для навигации
- Оптимизирован через `React.memo`

## Layout компоненты

### MediaToolbar (`media-toolbar.tsx`)

Управляет инструментами для работы с медиафайлами.

### MusicToolbar (`music-toolbar.tsx`)

Контролирует инструменты для работы с аудио.

### AudioPlayer (`audio-player.tsx`)

Управляет воспроизведением аудио.

### FileMetadata (`file-metadata.tsx`)

Отображает информацию о выбранном файле.

## Preview компоненты

### MediaPreview (`media-preview.tsx`)

Отображает превью медиафайлов.

**Реализация:**

- Обертка над HTML5 video
- Кастомные контролы воспроизведения
- Поддержка множественных потоков (видео/аудио)
- Отображение длительности и разрешения
- Управление состоянием через пропсы

### PreviewTimeline (`preview-timeline.tsx`)

Отображает временную шкалу превью.

**Реализация:**

- Простой компонент для отображения прогресса
- Интеграция с HTML5 video
- Отображение текущего времени
